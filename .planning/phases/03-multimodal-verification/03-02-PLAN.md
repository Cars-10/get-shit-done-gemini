---
phase: 03-multimodal-verification
plan: 02
type: execute
wave: 2
depends_on: [01]
files_modified: [tests/visual/README.md, .gitignore]
autonomous: true
user_setup: []

must_haves:
  truths:
    - "System ignores visual test artifacts in git"
    - "Visual test directory structure exists"
    - "Example visual test plan can be parsed"
  artifacts:
    - path: "tests/visual/README.md"
      provides: "Documentation for visual testing"
      contains: "Naming Convention"
    - path: ".gitignore"
      provides: "Exclusion of binary image files"
      contains: "tests/visual/*.png"
  key_links: []
---

<objective>
Establish the infrastructure for visual verification assets and creating a "Hello World" visual test case.

Purpose: Validate that the Visual Checkpoint protocol works in practice before rolling it out to wider use.
Output: Configured `tests/visual` directory and gitignore rules.
</objective>

<execution_context>
@~/.gemini/get-shit-done/workflows/execute-plan.md
@~/.gemini/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-multimodal-verification/03-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure Visual Asset Storage</name>
  <files>tests/visual/README.md, .gitignore</files>
  <action>
    1. Create `tests/visual/` directory.
    2. Add `tests/visual/README.md` explaining:
       - Naming convention: `{phase}-{plan}-{task}.png`
       - How to capture screenshots (windowed, clean).
    3. Update `.gitignore` to ignore `tests/visual/*.png` (keep directory structure but not binary blobs) EXCEPT `*-golden.png` (reference images should be committed).
  </action>
  <verify>ls -d tests/visual && grep "tests/visual" .gitignore</verify>
  <done>Directory exists and binaries are ignored.</done>
</task>

<task type="auto">
  <name>Task 2: Create Verification Smoke Test Plan</name>
  <files>.planning/phases/03-multimodal-verification/03-TEST-PLAN.md</files>
  <action>
    Create a dummy PLAN.md file at `.planning/phases/03-multimodal-verification/03-TEST-PLAN.md` that uses the new checkpoint.
    - Objective: "Verify user has a terminal open"
    - Task: `<task type="checkpoint:visual-verify">`
    - Instruction: "Take a screenshot of your terminal window showing the `ls` command output."
    - Verification Logic: "Ensure the terminal shows the `tests/visual` directory."
    
    This file serves as the acceptance test for Phase 3.
  </action>
  <verify>ls .planning/phases/03-multimodal-verification/03-TEST-PLAN.md</verify>
  <done>A test plan exists that can be executed to verify the entire subsystem.</done>
</task>

</tasks>

<verification>
Check that infrastructure allows for storing images without bloating the repo, and a test plan exists to validate the workflow.
</verification>

<success_criteria>
- [ ] `tests/visual` directory created.
- [ ] `.gitignore` updated correctly (ignore .png, keep .keep or README).
- [ ] 03-TEST-PLAN.md created for smoke testing.
</success_criteria>

<output>
After completion, create `.planning/phases/03-multimodal-verification/03-02-SUMMARY.md`
</output>
